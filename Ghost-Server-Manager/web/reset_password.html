<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

	<title>Reset Password</title>
</head>

<body>
	<style>
		body {
			display: flex;
			min-height: 100vh;
			flex-direction: column;
		}

		main {
			flex: 1 0 auto;
		}

		#reset-password-form {
			padding: 2rem 4rem 4rem 4rem;
			border-radius: 10px;
		}
	</style>

	<div class="section"></div>
	<main>
		<center>
			<div id="main-content" class="container" style="display: none;">
				<h2>Reset password</h2>
				<p id="subtitle">For email</p>

				<div class="section"></div>
				<div class="row">
					<div class="col s3"></div>
					<form id="reset-password-form" class="col s6 grey lighten-4">
						<div class='row'>
							<div class='col'>
							</div>
						</div>

						<div class='row'>
							<div class='input-field col s12'>
								<input required class='validate' type='password' name='password' id='password' />
								<label for='password'>New password</label>
							</div>
						</div>

						<div class="section"></div>
						<button id="submit-button" type="submit" class="s12 col waves-effect btn-large">Update
							password</button>
					</form>
				</div>
			</div>

			<div id="loading" class="col">
				<h2>Reset password</h2>
				<div class="section"></div>

				<div id="container-loading-spinner" class="center-align">
					<div class="preloader-wrapper small active">
						<div class="spinner-layer spinner-blue">
							<div class="circle-clipper left">
								<div class="circle"></div>
							</div>
							<div class="gap-patch">
								<div class="circle"></div>
							</div>
							<div class="circle-clipper right">
								<div class="circle"></div>
							</div>
						</div>
						<div class="spinner-layer spinner-red">
							<div class="circle-clipper left">
								<div class="circle"></div>
							</div>
							<div class="gap-patch">
								<div class="circle"></div>
							</div>
							<div class="circle-clipper right">
								<div class="circle"></div>
							</div>
						</div>
						<div class="spinner-layer spinner-yellow">
							<div class="circle-clipper left">
								<div class="circle"></div>
							</div>
							<div class="gap-patch">
								<div class="circle"></div>
							</div>
							<div class="circle-clipper right">
								<div class="circle"></div>
							</div>
						</div>
						<div class="spinner-layer spinner-green">
							<div class="circle-clipper left">
								<div class="circle"></div>
							</div>
							<div class="gap-patch">
								<div class="circle"></div>
							</div>
							<div class="circle-clipper right">
								<div class="circle"></div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="failure" style="display: none;">
				<div class="section"></div>
				<h4 id="failure-text" style="display: inline; margin-left: 1rem;">Page load failed! Missing token or
					email in query.</h4>
				<div class="section"></div>

				<span>You can return to <a href="./index.html">home</a>.</span>
			</div>

			<div id="success" style="display: none;">
				<div class="section"></div>
				<h4 style="display: inline; margin-left: 1rem;">Password reset succeeded!</h4>
				<div class="section"></div>

				<span>Please return to <a href="./index.html">home</a>.</span>
			</div>
		</center>
	</main>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="./reset_password.js"></script>
</body>

</html>